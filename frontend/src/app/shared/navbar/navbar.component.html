<div class="flex flex-col justify-between py-5 bg-component shadow-2xl h-screen fixed left-0 top-0">

  <nav>
    <ul>
      <li>
        <a
          routerLink="/dashboard"
          routerLinkActive="bg-primary"
          class="text-deep flex gap-1 items-center p-3 text-2xl hover:bg-primary hover:text-deep "
        >
          <lucide-icon [img]="DashboardIcon"></lucide-icon>
          <p>Dashboard</p>
        </a>
      </li>

      <li>
        <a
          routerLink="/employees"
          routerLinkActive="bg-primary"
          class="text-deep flex gap-1 items-center p-3 text-2xl hover:bg-primary hover:text-deep "
        >
          <lucide-icon [img]="EmployeeIcon"></lucide-icon>
          <p>employees</p>
        </a>
      </li>

      <li *ngIf="canAccessAdmin()">
        <a
          routerLink="/admin"
          routerLinkActive="bg-primary"
          class="text-deep flex gap-1 items-center p-3 text-2xl hover:bg-primary hover:text-deep"
        >
          <lucide-icon [img]="AdminIcon"></lucide-icon>
          <p>admin</p>
        </a>
      </li>

    </ul>

  </nav>

  <div
    *ngIf="currentUser"
    class="p-3 flex items-center gap-2"
  >
    <button class="hover:cursor-pointer hover:opacity-85" (click)="openUserProfileModal()">
      <div class="flex justify-center items-center text-2xl h-14 w-14 rounded-full bg-secondary">{{ currentUser.username[0] }}</div>
    </button>
    <div class="flex flex-col text-center">
      <button class="hover:cursor-pointer hover:opacity-85" (click)="openUserProfileModal()">
        <p class="text-xl text-gray">{{ currentUser.username }}</p>
      </button>
      <button (click)="logout()" class="text-sm text-red-400 hover:cursor-pointer">
        logout
      </button>
    </div>
  </div>

</div>

<app-error-modal [isVisible]="showErrorModal" [errorMessage]="errorMessage" (closed)="showErrorModal = false" ></app-error-modal>

<div
    *ngIf="showUserProfileModal"
    class="fixed inset-0 bg-deep/70 flex items-center justify-center"
>
  <app-user-profile-modal
    [isVisible]="showUserProfileModal"
    [userId]="currentUser?.id"
    (closed)="showUserProfileModal = false"
    (errorUserProfileModal)="showErrorUserProfileModal()"
  >
  </app-user-profile-modal>
</div>

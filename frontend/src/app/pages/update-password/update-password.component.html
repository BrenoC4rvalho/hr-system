<div class="h-screen w-screen bg-primary flex justify-center items-center">
  <div class="bg-component shadow-2xl rounded-lg p-6 border-2 border-deep w-full max-w-md">
    <h2 class="text-xl font-semibold text-center mb-4">Change your password</h2>

    <form (ngSubmit)="onSubmit()" #updatePasswordForm="ngForm" class="flex flex-col gap-4">
      <!-- Password Field -->
      <div>
        <label for="password" class="block mb-1 font-medium">New password</label>
        <div class="bg-component shadow flex items-center relative">
          <input
            id="password"
            class="text-deep w-full p-2 pr-10 rounded focus:outline-primary"
            [type]="isPasswordVisible ? 'text' : 'password'"
            placeholder="Enter new password"
            name="password"
            [(ngModel)]="password"
            required
            #passwordfield="ngModel"
          >
          <button
            type="button"
            class="text-primary absolute right-3 focus:outline-none"
            (click)="togglePasswordVisibility(); $event.preventDefault()"
            aria-label="Toggle password visibility"
          >
            <lucide-icon *ngIf="isPasswordVisible" [img]="EyeIcon"></lucide-icon>
            <lucide-icon *ngIf="!isPasswordVisible" [img]="EyeClosedIcon"></lucide-icon>
          </button>
        </div>

        <!-- Password Error Message -->
        <div *ngIf="passwordfield.invalid && (passwordfield.dirty || passwordfield.touched)" class="text-red-500 text-sm mt-1">
          Password is required
        </div>
      </div>

      <!-- Submit Button -->
      <button
        class="bg-secondary rounded py-2 text-white-soft hover:bg-secondary/80 transition disabled:bg-secondary/50 disabled:cursor-not-allowed"
        type="submit"
        [disabled]="updatePasswordForm.invalid"
      >
        Change password
      </button>
    </form>
  </div>

  <!-- Error Modal -->
  <app-error-modal
    [isVisible]="showErrorModal"
    [errorMessage]="errorMessage"
    (closed)="showErrorModal = false">
  </app-error-modal>
</div>

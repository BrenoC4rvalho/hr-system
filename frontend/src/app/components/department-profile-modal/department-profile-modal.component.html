<app-modal
  [headerText]="'Department profile'"
  (closeCliked)="onClose()"
>

  <section *ngIf="department" class="flex gap-5">

    <div class="w-40 h-40 rounded-full bg-blue-600 flex items-center justify-center text-white text-4xl font-bold">
      {{ department.name.charAt(0) }}
    </div>

    <div class="flex-1">

      <div class="border-b-2 border-gray-light pb-5">
        <div *ngIf="isEditing">
          <input [(ngModel)]="editableDepartment.name" class="text-2xl font-bold border rounded p-2 w-full" />
        </div>
        <p *ngIf="!isEditing" class="text-deep font-bold text-2xl">{{ department.name }}</p>

        <div class="flex items-center gap-2 mt-2 text-gray">
          <p>ID: {{ department.id }}</p>
        </div>
      </div>

      <div class="flex gap-5 mt-5">
        <div>
          <div class="flex gap-3">
            <p class="text-gray">Manager:</p>
            <div *ngIf="isEditing">
            </div>
            <p *ngIf="!isEditing">
              {{ department.manager ? (department.manager.firstName + ' ' + department.manager.lastName) : 'No manager assigned' }}
            </p>
          </div>
        </div>
      </div>

      <div class="flex gap-4 mt-6">
        <button
          *ngIf="!isEditing"
          (click)="toggleEdit()"
          class="bg-secondary text-white px-4 py-2 rounded hover:bg-secondary/80"
        >
          Edit
        </button>

        <button
          *ngIf="isEditing"
          (click)="saveChanges()"
          class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
        >
          Save
        </button>

        <button
          *ngIf="isEditing"
          (click)="cancelEdit()"
          class="border px-4 py-2 rounded"
        >
          Cancel
        </button>
      </div>

    </div>

  </section>

</app-modal>
